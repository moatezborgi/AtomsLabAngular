<div class="page-wrapper">
  <div class="content">

    <div class="page-header">
      <div class="row">
        <div class="col-sm-12">
          <ul class="breadcrumb">
            <li class="breadcrumb-item"><a routerLink="/home">Dashboard </a></li>
            <li class="breadcrumb-item"><i class="feather-chevron-right"></i></li>
            <li class="breadcrumb-item active">Duty List</li>
          </ul>
        </div>
      </div>
    </div>
    <!--    &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-->
    <div class="table-responsive">

      <div class="row">
        <div class="col-sm-12">
          <div class="card card-table show-entire">
            <div class="card-body">

              <div class="page-table-header mb-2">
                <div class="row align-items-center">
                  <div class="col">
                    <div class="doctor-table-blk">
                      <h3>Duty List</h3>
                      <div class="doctor-search-blk">
                        <div class="top-nav-search table-search-blk">
                          <form>
                            <input class="form-control" placeholder="Search here" type="text" [(ngModel)]="searchTerm" [ngModelOptions]="{standalone: true}">
                            <a class="btn"><img alt="" src="assets/img/icons/search-normal.svg"></a>
                          </form>
                        </div>
                        <div class="add-group">
                          <a [routerLink]="['/AddDuty/hamdayedes']" class="btn btn-primary add-pluss ms-2"><img
                            alt="" src="assets/img/icons/plus.svg"></a>
                          <a class="btn btn-primary doctor-refresh ms-2" ref="javascript:;"><img
                            alt="" src="assets/img/icons/re-fresh.svg"></a>

                        </div>
                      </div>
                    </div>
                  </div>
                  <div *ngIf="username=='admin'"
                       class="col-auto text-end float-end ms-auto download-grp" >
                    <a href="javascript:;" class=" me-2"  (click)="openPDF()"><img src="assets/img/icons/pdf-icon-01.svg" alt=""></a>
                    <a href="javascript:;" class=" me-2"><img src="assets/img/icons/pdf-icon-02.svg" alt=""></a>
                    <a href="javascript:;" class=" me-2"><img src="assets/img/icons/pdf-icon-03.svg" alt=""></a>
                    <a href="javascript:;"><img src="assets/img/icons/pdf-icon-04.svg" alt=""></a>
                  </div>
                  <table class="table border-0 custom-table comman-table datatable mb-0">
                    <thead>
                    <tr>
                      <th>
                        <div class="form-check check-tables">
                          <input class="form-check-input" type="checkbox" value="something">
                        </div>
                      </th>
                      <th>Username</th>
                <th>Date Debut</th>
                <th>Date Fin</th>
                      <th>Status</th>
                      <th>Type</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let i of table | filter:searchTerm | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage }">
                  <td>
                    <div class="form-check check-tables">
                      <input class="form-check-input" type="checkbox" value="something">
                    </div>
                  </td>
                  <td class="profile-image"><img width="28" height="28" src="assets/img/profiles/avatar-01.jpg" class="rounded-circle m-r-5" alt=""> {{i.user.username}}</td>
                  <td>{{i.dateHeureDebut}}</td>
                  <td>{{i.dateHeureFin}}</td>
                  <td *ngIf="i.active==true"><button class="custom-badge status-green ">{{i.active}}</button></td>
                  <td *ngIf="i.active==false"><button class="custom-badge status-red ">{{i.active}}</button></td>
                  <td><button class="custom-badge status-purple ">{{i.duty.type}}</button></td>

                  <td class="text-end">
                    <div class="dropdown dropdown-action">
                      <a aria-expanded="false" class="action-icon dropdown-toggle" data-bs-toggle="dropdown"
                         href="#"><i class="fa fa-ellipsis-v"></i></a>
                      <div class="dropdown-menu dropdown-menu-end">
                        <a class="dropdown-item"  [routerLink]="['/UpdateDuty', i.idPlanificationDuty, i.user.username]">
                          <i class="fa-solid fa-pen-to-square m-r-5"></i> Edit</a>
                        <a class="dropdown-item" data-bs-target="#delete_patient" data-bs-toggle="modal" (click)="deleteEvent(i.idPlanificationDuty,i.duty.id_duty)"><i class="fa fa-trash-alt m-r-5"></i> Delete</a>
                      </div>
                    </div>
                  </td>
                </tbody>
                </table>
                  <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>

                </div>


            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
