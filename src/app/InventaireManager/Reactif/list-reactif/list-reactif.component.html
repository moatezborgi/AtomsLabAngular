<div class="page-wrapper">
  <div class="content">

    <div class="page-header">
      <div class="row">
        <div class="col-sm-12">
          <ul class="breadcrumb">
            <li class="breadcrumb-item"><a routerLink="/home">Dashboard </a></li>
            <li class="breadcrumb-item"><i class="feather-chevron-right"></i></li>
            <li class="breadcrumb-item active">Reactif List</li>
          </ul>
        </div>
      </div>
    </div>
    <!--    &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-->
    <div class="table-responsive">

      <div class="row">
        <div class="col-sm-12">
          <div class="card card-table show-entire">
            <div class="card-body">

              <div class="page-table-header mb-2">
                <div class="row align-items-center">
                  <div class="col">
                    <div class="doctor-table-blk">
                      <h3>Reactif List</h3>
                      <div class="doctor-search-blk">
                        <div class="top-nav-search table-search-blk">
                          <form>
                            <input name="search" [(ngModel)]="searchtext" class="form-control" placeholder="Search here" type="text">
                            <a class="btn"><img alt="" src="assets/img/icons/search-normal.svg"></a>
                          </form>
                        </div>
                        <div class="add-group">
                          <!--                          <a [routerLink]="['/addReactif']" class="btn btn-primary add-pluss ms-2"><img-->
                          <!--                          <a (click)="openDialog()" class="btn btn-primary add-pluss ms-2"><img-->
                          <a (click)="open(content)" class="btn btn-primary add-pluss ms-2"><img
                            alt="" src="assets/img/icons/plus.svg"></a>
                          <a class="btn btn-primary doctor-refresh ms-2" routerLink="/ReactifList" ref="javascript:;"><img
                            alt="" src="assets/img/icons/re-fresh.svg"></a>

                        </div>
                      </div>
                    </div>
                  </div>
                  <table class="table border-0 custom-table comman-table datatable mb-0">
                    <thead>
                    <tr>
                      <th>
                        <div class="text-end">
                          <th> Nom Reactif</th>
                        </div>
                      </th>

                      <th>Unite</th>
                      <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let i of table |filter:searchtext | paginate: { itemsPerPage: itemsperpage, currentPage: p }">

                      <td>{{i.nameReactif}}</td>
                      <td>{{i.unit}}</td>
                      <td class="text-end">
                        <div class="dropdown dropdown-action">
                          <a aria-expanded="false" class="action-icon dropdown-toggle" data-bs-toggle="dropdown"
                             href="#"><i class="fa fa-ellipsis-v"></i></a>
                          <div class="dropdown-menu dropdown-menu-end">
                            <a class="dropdown-item" routerLink="/updateReactif/{{i.idReactif}}">
                              <i class="fa-solid fa-pen-to-square m-r-5"></i> Edit</a>
                            <a class="dropdown-item" data-bs-target="#delete_reactif" data-bs-toggle="modal" (click)="openDelete(contentDelete,i)" ><i class="fa fa-trash-alt m-r-5"></i> Delete</a>
                          </div>


                        </div>
                      </td>
                      <!--DELETE MODAL-->
                      <ng-template #contentDelete let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title">Confirm Delete</h4>
                          <a (click)="modal.dismiss('Cross click')" class="btn btn-primary add-pluss ms-2"><img
                            alt="" src="assets/img/icons/close.svg">
                                                      </a>
                        </div>
                        <div class="modal-body">
                          <h2>Are you sure you want to delete this reactif</h2>
                        </div>
                        <div class="modal-footer">
                          <button class="btn btn-primary submit-form me-2" (click)="modal.close('Save click')">Cancel</button>
                          <button data-dismiss="modal" (click)="deleteReactif(i.idReactif)" class="btn btn-danger submit-form me-2">Yes, Delete!</button>
                        </div>
                        <div *ngIf="isDeleted" class="success-message">
                          Item deleted successfully.
                        </div>
                      </ng-template>



                    </tbody>
                  </table>

                </div>


              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <div class="mt-8 py-5 flex justify-content-center align-items-center">
    <pagination-controls (pageChange)="p = $event"></pagination-controls>
  </div>
</div>
<!--ADD MODAL-->
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">New Reactif</h4>
    <a (click)="modal.dismiss('Cross click')" class="btn btn-primary add-pluss ms-2"><img
      alt="" src="assets/img/icons/close.svg">
      <span aria-hidden="true">&times;</span>
    </a>
  </div>
  <div class="modal-body">
    <form #f="ngForm">
      <div class="col-12 col-md-6 col-xl-6">
        <div class="form-group local-forms">
          <label>Nom Reactif<span class="login-danger">*</span></label>
          <input  class="form-control" name="nameReactif" ngModel placeholder="Entrer le Nom du reactif" type="text">
        </div>
      </div>
      <div class="col-12 col-md-6 col-xl-6">
        <div class="form-group local-forms">
          <label>Nombre D'unite<span class="login-danger">*</span></label>
          <input class="form-control"  name="unit" ngModel placeholder="Entrer le nombre d'unite" type="text">
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button (click)="modal.close(addReactif(f.value))" class="btn btn-primary submit-form me-2" type="submit">Save</button>
  </div>
</ng-template>

